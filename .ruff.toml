line-length = 120

[format]
docstring-code-format = true

[lint]
select = ["ALL"]
ignore = [
    "D1",    # undocumented
    "D203",  # one blank line before class
    "D213",  # multi-line summary second line
    "TD001", # invalid todo tag
    "TD002", # missing todo author
    "TD003", # missing todo link
    "PD011", # pandas use of dot values
    "COM812", 
]
unfixable = [
    "F401",
    "F841",
]

[lint.pydocstyle]
convention = "google"

[lint.per-file-ignores]
"app/main.py" = ["PLC0415"]  # Allow lazy import for optional dependencies
"app/usecases/summary.py" = ["PLC0415"]  # Allow lazy import for optional AI deps
"app/usecases/chat.py" = ["S311"]  # Allow random for mock responses
"app/services/database/manager/summary_manager.py" = []  # No special ignores needed
"study/**/*.py" = ["ALL"]
"**/migrations/*.py" = ["ALL"]

[lint.pylint]
max-args = 6

[lint.isort]
known-first-party = [
    "models", "dtos", "routers", "services", "usecases", "utils", "websocket_routers", "app_conf", "app_resources", "errors"
]
force-single-line = false
force-sort-within-sections = false
split-on-trailing-comma = true
lines-between-types = 1
